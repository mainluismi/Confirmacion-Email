<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Confirmacion Correo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
<!-- confirmacion-correo.component.html -->
<div class="formulario">
    <form (ngSubmit)="confirmarCorreo()">
      <h1>Confirmar Correo</h1>
  
      <!-- Verifica si usuario no es nulo antes de acceder a su propiedad email -->
      <div *ngIf="usuario">
        <!-- Accede a la propiedad email solo si usuario no es nulo -->
        <p>Correo enviado al email: {{ usuario.email }}</p>
      </div>
      <div *ngIf="!usuario">
        <p>Usuario no encontrado</p>
      </div>
  
      <div>
        <label for="codigoVerificacion">Código de Verificación:</label>
        <input type="text" id="codigoVerificacion" name="codigoVerificacion" [(ngModel)]="codigoVerificacion" required>
      </div>
  
      <!-- Agrega campos ocultos para pasar la información del usuario -->
      <input type="hidden" name="email" [value]="usuario?.email || ''">
      <input type="hidden" name="nombre" [value]="usuario?.nombre || ''">
      <input type="hidden" name="apellidos" [value]="usuario?.apellidos || ''">
      <input type="hidden" name="password" [value]="usuario?.password || ''">
  
      <button type="submit" class="btn btn-primary">Confirmar</button>
    </form>
  
    <!-- Mostrar mensaje de error -->
    <p *ngIf="error" style="color: red;">{{ error }}</p>
  
    <!-- Mostrar mensaje de éxito y enlace/botón para ir a la página de inicio -->
    <p *ngIf="confirmacionExitosa" style="color: green;">¡Confirmación exitosa!</p>
    <a *ngIf="confirmacionExitosa" [routerLink]="['/home']" class="btn btn-success" role="button">Ir a la página de inicio</a>
  </div>
  
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>

</html>
